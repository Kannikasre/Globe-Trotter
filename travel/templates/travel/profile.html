{% extends 'travel/base.html' %}

{% block title %}My Profile - GlobeTrotter{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px;">
    <div class="card">
        <h2 class="card-header">My Profile</h2>
        
        <div style="display: flex; gap: 2rem; align-items: center; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid #eee;">
            {% if profile.profile_image %}
            <img src="{{ profile.profile_image.url }}" alt="{{ user.username }}" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
            {% else %}
            <div style="width: 100px; height: 100px; border-radius: 50%; background: #667eea; display: flex; align-items: center; justify-content: center; color: white; font-size: 2.5rem;">
                {{ user.username.0|upper }}
            </div>
            {% endif %}
            <div>
                <h3 style="color: #667eea; margin-bottom: 0.5rem;">{{ user.username }}</h3>
                <p style="color: #666;">{{ user.email }}</p>
                <p style="color: #666; font-size: 0.9rem;">Member since {{ user.date_joined|date:"F Y" }}</p>
            </div>
        </div>
        
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% for field in form %}
            <div class="form-group">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}
                <small style="color: #666;">{{ field.help_text }}</small>
                {% endif %}
                {% if field.errors %}
                <div style="color: #dc3545; font-size: 0.9rem;">{{ field.errors }}</div>
                {% endif %}
            </div>
            {% endfor %}
            
            <button type="submit" class="btn btn-primary">Update Profile</button>
        </form>
    </div>
    
    <div class="card">
        <h3 class="card-header">Account Information</h3>
        <p><strong>Username:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Name:</strong> {{ user.first_name }} {{ user.last_name }}</p>
    </div>
</div>
{% endblock %}
